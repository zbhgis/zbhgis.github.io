<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>zbhgis</title><link>https://zbhgis.github.io</link><description>Focus on GIS, RS, Ecology</description><copyright>zbhgis</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://avatars.githubusercontent.com/u/116264372?s=400&amp;u=0c4073b50ae732450cd91f380769ba6710d6ce53&amp;v=4</url><title>avatar</title><link>https://zbhgis.github.io</link></image><lastBuildDate>Thu, 26 Jun 2025 02:44:36 +0000</lastBuildDate><managingEditor>zbhgis</managingEditor><ttl>60</ttl><webMaster>zbhgis</webMaster><item><title>GEE批量下载Sentinel2数据</title><link>https://zbhgis.github.io/post/GEE-pi-liang-xia-zai-Sentinel2-shu-ju.html</link><description># GEE批量下载Sentinel2数据

Google Earth Enginehttps://earthengine.google.com/网站批量下载数据，需要有谷歌账号和科学上网

## 界面功能

![image-20230712015903828](https://gitee.com/zbhgis/pic/raw/master/blog/image-20230712015903828.png)



## 导入研究区边界

1.学会导入roi的矢量文件，在【Assets】下选择【New】，导入shp文件

![image-20230712012523506](https://gitee.com/zbhgis/pic/raw/master/blog/image-20230712012523506.png)

![image-20230712012700256](https://gitee.com/zbhgis/pic/raw/master/blog/image-20230712012700256.png)

2.在弹出的界面可以选择自己的文件进行上传，除了在gee上的新建的数据集文件名需要修改之外，其他保持默认即可，最后点击【Upload】上传

![image-20230712013340325](https://gitee.com/zbhgis/pic/raw/master/blog/image-20230712013340325.png)

3.创建好之后就可以去copy别人的代码进行批量下载了，有两个数据可以需要自己手动导入，网上的教程有时没讲这部分，通过【Import】导入roi文件和数据集。</description><guid isPermaLink="true">https://zbhgis.github.io/post/GEE-pi-liang-xia-zai-Sentinel2-shu-ju.html</guid><pubDate>Thu, 26 Jun 2025 02:38:40 +0000</pubDate></item><item><title>哥白尼网站下载Sentinel-1/2/3/5P遥感数据（筛选、单波段/批量下载），附常见问题</title><link>https://zbhgis.github.io/post/ge-bai-ni-wang-zhan-xia-zai-Sentinel-1-2-3-5P-yao-gan-shu-ju-%EF%BC%88-shai-xuan-%E3%80%81-dan-bo-duan---pi-liang-xia-zai-%EF%BC%89%EF%BC%8C-fu-chang-jian-wen-ti.html</link><description># 哥白尼网站下载Sentinel-1/2/3/5P遥感数据（筛选、单波段/批量下载），附常见问题

## 前言

之前就看到有人推送这个ESA下载Sentinel数据的新网站https://dataspace.copernicus.eu/browser/，就自己探索了一下，有一些意料之外的功能

## 准备工作

1、刚开始进行点击的是这个界面，目测功能很多，但是先登录才能使用，**点击【Login】按钮进入登录界面**，如果没有账号的话，需要注册一个，在进入这个界面之后如果没有账号，那么就可以**点击【Register】按钮进行注册**，注册的流程与USGS类似，最好使用谷歌邮箱或者163邮箱

![image-20231010205321035](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010205321035.png)

![image-20231010210136221](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010210136221.png)

2.登录之后，点击上面的**【Search】按钮**来到搜索面板，按照下面的图片设置各种条件即可，其中【**Filters】和【Filter by months】可以根据自己的需要进行额外设置**，设置好条件之后可以准备设置区域了

![image-20231010212431533](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010212431533.png)

3.在图层上添加研究边界时，可以上传文件，也可以自行绘制边界，根据需要也可以选择下面的绘制线和地标，点击绘制多边形的按钮之后，直接在地图上通过点击的方法即可完成绘制，完成绘制后就可以点击**左侧的面板最下方的【Search】按钮**，搜索

![image-20231010213213795](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010213213795.png)

![image-20231010213519429](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010213519429.png)

4.搜索结果如下，**左上角的【Go to Search】按钮**可以返回搜索参数设置，重新调整条件；当鼠标在左侧影像上悬停时，右侧对应的方框也会变绿

![image-20231010213737934](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010213737934.png)

## 单幅影像直接下载

5.以下面这幅影像为例，在面板上已经显示了他的数据级别，大小，监测时间等主要信息，![image-20231010214437888](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010214437888.png)【Product info】是查看具体的信息，![image-20231010214524305](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010214524305.png)【Zoom to product】是在右侧图层上定位，![image-20231010214555074](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010214555074.png)【Add to workspace】是添加到工作空间，![image-20231010214800076](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010214800076.png)【Download product】是直接下载按钮

![image-20231010214238582](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010214238582.png)

【Product info】（进一步显示**图像的具体信息**)

![image-20231010214946260](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010214946260.png)

【Zoom to product】（将所选图像**定位到地图中心**）

![image-20231010215012155](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010215012155.png)

【Add to workspace】（**加入到workspace，可以用于后续批量下载，云端处理等**）

![image-20231010215040600](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010215040600.png)

【Download product】（**直接下载数据，下载速度随缘**，我下载的时候是前10%速度很慢，后面的速度可以跑满，下载700MB大概要花15分钟）

![image-20231010215057891](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010215057891.png)

## 单波段下载

这个功能需要点击![image-20231010214437888](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010214437888.png)**【Product info】**按钮，找到**【Download single files】**，就可以根据需要**直接下载波段文件**

![image-20231010223748786](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010223748786.png)

![image-20231010224124453](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010224124453.png)



## 在线波段组合显示

1.![image-20231010214858191](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010214858191.png)按钮可以将现有的图像加载到图层上，以上面那副影像为例，可以**默认将图像的真彩色添加至显示**，也可以根据需要切换至不同的波段组合

![image-20231010224909214](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010224909214.png)

2.这些提供的组合不满意也可以在末尾选择**【Custom】**，点击之后可以自行选择波段和指数，也可以通过**【Custom script】**自行修改完成更多的显示

![image-20231010225531107](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010225531107.png)

![image-20231010225547658](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010225547658.png)

![image-20231010225613598](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010225613598.png)



3.在可视化的最初面板中，每个波段组合还附带有如下功能

![image-20231010230101008](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231010230101008.png)

添加之后依次存放在各个面板中。</description><guid isPermaLink="true">https://zbhgis.github.io/post/ge-bai-ni-wang-zhan-xia-zai-Sentinel-1-2-3-5P-yao-gan-shu-ju-%EF%BC%88-shai-xuan-%E3%80%81-dan-bo-duan---pi-liang-xia-zai-%EF%BC%89%EF%BC%8C-fu-chang-jian-wen-ti.html</guid><pubDate>Wed, 25 Jun 2025 15:31:16 +0000</pubDate></item><item><title>ENVI使用深度学习存在问题及解决</title><link>https://zbhgis.github.io/post/ENVI-shi-yong-shen-du-xue-xi-cun-zai-wen-ti-ji-jie-jue.html</link><description># ENVI使用深度学习存在问题及解决

## 前言

前段时间试着用了ENVI的Deep Learning 1.2模块，感觉作为一个本地化的深度学习手段，其使用起来总体体验较为OK，就是比较依赖电脑配置

配置： Dell G15 i5 3050显卡 显存4GB CUDA计算能力达到要求

模块：实验使用的是像素分类模型，进行单个类别的分类

## 1.刚开始的配置检查报错

暂时不确定是否需要额外安装TensorFlow环境（不过我是已经装过了）

如果装完之后还是检测还是显示有问题（比如framework not found)，就不用管，直接跑模型，没有影响



## 2.TensorBoard可视化面板空白

在进行深度学习之后，会跳转到这个地址http://localhost:6006/#scalars，但是白屏了，不影响深度学习的使用，但是对应性能指标无法可视化，暂时未解决



## 3.输出的h5文件中，找不到精度

直接打开h5文件，在envi目录下的mertrics文件夹中，其中best和Last对应的模型的各个性能指标是一样的，但是他们会分别对应loss最低的和最后输出的，我是看recall来判断模型的识别能力



## 4.在绘制样本roi时，有的看不见

在envi563中，目前绘制样本如果超出了影像范围的时候，不会显示出来，推荐删除掉超出范围的那几个roi



## 5.Last model不设置输出路径

如果不设置的话他会在电脑的temp文件夹产生缓存，暂时不确定在软件关闭后自动删除，推荐设置好路径，输出之后可以快速找到并自己删除



## 6.训练模型的性能指标很好，但是把栅格图像拿去分类的效果很差；或者指标一般，分类效果好

测试过跟输入分类栅格文件格式没有关系，.tif和.dat的分类效果是一样的

大概率是样本划分的问题，导致结果不行；或者是分类影像问题，最好影像没有黑边；也有可能是最开始的模型能力就不行，可以在准备训练模型时，就多添加几个特征波段后再合成，再拿去训练



## 7.部分报错解决

1）一般的报错

首先检查必要的参数有没有设置错，比如输入的影像错误，输入的初始模型错误，参数没有填

其次检查是否存在同名文件，因为不能直接覆盖

再检查文件名和格式是否有问题，比如输出文件的格式为.dat还是默认还是.h5

最后检查电脑配置，可能最起码得有个性能在3050左右的显卡才带得动



2）runtime error：a patches perbatchsize is of 5 to large...

电脑配置不够，看看有没有升级到最新显卡，以及检查输入的训练和验证栅格是不是范围太大（刚开始可以试着输入小一点的栅格比如1500*1500）左右

产生这个报错，推荐不要去调整perbatchsize，因为调整之后虽然可能可以跑了没了这个报错，但是他的输出结果的各个性能指标会有问题，比如accuracy会一样，recall都是0



3）TensorFlow graphic framework is not found...

patch size 设置得太大了，调小一点



## 8.一些官方已经弄好的模快速调用

比如随机参数训练模型，推荐在左上角生成插件，其中在脚本中的” DISPLAY_NAME=‘xxxxxxxxx’ ”意思是拓展插件的名字，可以自己改，设置好之后点击菜单中的【Create Extension】即可生成

![image-20230719140931883](https://gitee.com/zbhgis/pic/raw/master/blog/image-20230719140931883.png)

![image-20230719141031685](https://gitee.com/zbhgis/pic/raw/master/blog/image-20230719141031685.png)

之后在ENVI的工具文件夹【Extension】中可以找到，双击可以直接调用
&lt;!-- ##{'timestamp':1696888800}## --&gt;。</description><guid isPermaLink="true">https://zbhgis.github.io/post/ENVI-shi-yong-shen-du-xue-xi-cun-zai-wen-ti-ji-jie-jue.html</guid><pubDate>Wed, 25 Jun 2025 15:17:45 +0000</pubDate></item><item><title>在USGS上批量下载Landsat系列影像</title><link>https://zbhgis.github.io/post/zai-USGS-shang-pi-liang-xia-zai-Landsat-xi-lie-ying-xiang.html</link><description># 在USGS上批量下载Landsat系列影像

## 前言

试了一下USGS提供的批量下载的功能，整体使用体验OK。</description><guid isPermaLink="true">https://zbhgis.github.io/post/zai-USGS-shang-pi-liang-xia-zai-Landsat-xi-lie-ying-xiang.html</guid><pubDate>Wed, 25 Jun 2025 15:10:35 +0000</pubDate></item><item><title>SNAP软件对Sentinel-2数据进行重采样存在问题</title><link>https://zbhgis.github.io/post/SNAP-ruan-jian-dui-Sentinel-2-shu-ju-jin-xing-zhong-cai-yang-cun-zai-wen-ti.html</link><description># SNAP软件对Sentinel-2数据进行重采样存在问题

**1.问题：重采样出现了Message：dataType out of range!的提示**

解决：以记事本格式打开并编辑以下文件

```
C:\Users\用户名\.snap\etc\s2tbx.properties
```

在最后添加以下信息并保存

```
user.openjp2.jna=true
```

重启SNAP后软件即可执行重采样

![image-20231221194253165](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231221194253165.png)



**2.问题：处理完数据之后C盘和D盘爆满**

解决：C盘中是由于以下文件位置会有缓存，处理完后可以直接删除

```
C:\Users\用户名\.snap\var\cache\s2tbx\l2a-reader
```

![image-20231221192915397](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231221192915397.png)

D盘中是由于以下文件位置会有临时文件，通过电脑的清理垃圾功能会清除掉，或者在以下的D盘的temp文件中找到以下缓存文件手动清楚

```
D:\temp\snap-用户名
```

![image-20231221193221629](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231221193221629.png)



**3.问题：SNAP中重采样的速度慢**

在SANP中对某一幅影像所有波段，按照B2分辨率进行重采样之后的数据在16G左右，因此重采样之前加上一个BandSelect步骤，选择需要的波段进行重采样即可加快速度，尽量不要全部重采样。</description><guid isPermaLink="true">https://zbhgis.github.io/post/SNAP-ruan-jian-dui-Sentinel-2-shu-ju-jin-xing-zhong-cai-yang-cun-zai-wen-ti.html</guid><pubDate>Mon, 23 Oct 2023 22:00:00 +0000</pubDate></item><item><title>Typora+picgo+gitee配置过程中存在问题</title><link>https://zbhgis.github.io/post/Typora%2Bpicgo%2Bgitee-pei-zhi-guo-cheng-zhong-cun-zai-wen-ti.html</link><description># Typora+picgo+gitee配置过程中存在问题

1、刚开始是使用GitHub，但是不知道为什么一直上传不了图片，找了很多的解决方法都没能成功，考虑到可能是网络等方方面面的问题，于是放弃了GitHub，选择了Gitee；参考以下[[博客](https://blog.csdn.net/weixin_45525272/article/details/125387761)](https://blog.csdn.net/weixin_45525272/article/details/125387761)(https://blog.csdn.net/weixin_45525272/article/details/125387761)；
2、在配置Gitee中的过程中，除了需要注册好Gitee，建立好仓库、需要保管好私人令牌外，还需要提前安装好node.js环境，直接去官网下载最新的长期支持版本即可；
3、在线安装Gitee的picgo插件过程中，插件一直显示安装中，即一直安装不上，这个时候就需要先前往picgo文件夹下的 node_moudules先将安装失败的插件文件夹 picgo-plugin-gitee-uploader 删除，然后再通过以下[[博客](https://blog.csdn.net/Netceor/article/details/126704416)](https://blog.csdn.net/Netceor/article/details/126704416)的方法(https://blog.csdn.net/Netceor/article/details/126704416)，通过命令行的方式进行安装；

![image-20231007161015722](https://gitee.com/zbhgis/pic/raw/master/blog/image-20231007161015722.png)

4、如果中间安装失败，哪一步卡住，可以先尝试重启应用然后再重新执行操作，可以避免一些不必要的问题。</description><guid isPermaLink="true">https://zbhgis.github.io/post/Typora%2Bpicgo%2Bgitee-pei-zhi-guo-cheng-zhong-cun-zai-wen-ti.html</guid><pubDate>Fri, 06 Oct 2023 22:00:00 +0000</pubDate></item></channel></rss>